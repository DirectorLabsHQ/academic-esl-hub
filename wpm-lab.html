<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEFR Lexical Estimator | English Vocabulary Size Test</title>
    
    <meta name="description" content="Calculate your English vocabulary size and CEFR level. A research-informed diagnostic tool to measure lexical range for IELTS, TOEFL, and university readiness.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { background-color: #050505; color: #e5e5e5; font-family: 'Inter', sans-serif; }
        .card-bg { background: #111; border: 1px solid #222; }
        .hidden { display: none; }
        .animate-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .word-chip { transition: all 0.2s; border: 1px solid #222; }
        .word-chip.selected { background: #3b82f6; border-color: #60a5fa; color: white; }
        .nav-card { background: linear-gradient(145deg, #111, #0a0a0a); border: 1px solid #222; transition: all 0.3s ease; }
        .nav-card:hover { border-color: #3b82f6; transform: translateY(-4px); }
    </style>
</head>
<body class="min-h-screen flex flex-col antialiased">

<header class="p-6 border-b border-white/5 bg-black/50 backdrop-blur-xl sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
        <div class="flex items-center gap-6">
            <a href="index.html" class="text-xl font-black tracking-tighter text-blue-500 italic uppercase">ACADEMIC<span class="text-white">ESL</span>HUB</a>
            <nav class="hidden lg:flex items-center gap-6 border-l border-white/10 pl-6">
                <a href="index.html" class="text-xs font-bold text-neutral-500 hover:text-white transition-colors uppercase tracking-widest">Home Hub</a>
                <a href="score-matrix.html" class="text-xs font-bold text-neutral-400 hover:text-white transition-colors uppercase tracking-widest">Score Matrix</a>
                <a href="wpm-lab.html" class="text-xs font-bold text-neutral-400 hover:text-white transition-colors uppercase tracking-widest">Fluency Lab</a>
                <a href="vocab-estimator.html" class="text-xs font-bold text-white transition-colors uppercase tracking-widest">Vocab Estimator</a>
            </nav>
        </div>
        <div class="h-2 w-2 rounded-full bg-blue-500"></div>
    </div>
</header>

<main class="flex-grow max-w-4xl mx-auto p-6 md:p-12 w-full">

    <div id="intro-area" class="animate-in">
        <h1 class="text-5xl md:text-6xl font-black text-white tracking-tighter mb-4 uppercase italic leading-none">Lexical Estimator</h1>
        
        <p class="text-neutral-500 text-xs max-w-2xl mb-8 italic">
            This CEFR-aligned vocabulary estimator calculates your active English word knowledge. By sampling lexical frequency bands, we estimate your total headword count and academic readiness.
        </p>

        <div class="card-bg p-8 rounded-[2rem] mb-12">
            <h2 class="text-blue-500 font-black uppercase tracking-widest text-xs mb-4">Diagnostic Methodology</h2>
            <p class="text-neutral-400 text-sm leading-relaxed mb-6 italic">
                You will be presented with several word lists ranging from common everyday terms (A1) to rare academic jargon (C2). Simply click the words you <strong>confidently know</strong>. Please be honest; over-reporting will result in an inaccurate profile.
            </p>
            <button onclick="startVocabTest()" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-4 rounded-2xl uppercase italic transition-all">Begin Diagnostic</button>
        </div>

        <div class="border-t border-white/5 pt-8">
            <h3 class="text-xs font-black text-neutral-500 uppercase tracking-widest mb-4">Academic Interpretation</h3>
            <p class="text-neutral-500 text-xs leading-relaxed italic mb-4">
                Universities typically require a minimum vocabulary of 4,000 to 5,000 words (B2 level) for undergraduate entry. For postgraduate research, a lexical range exceeding 8,000 words (C1 level) is recommended to ensure the ability to process complex theoretical literature and peer-reviewed journals.
            </p>
        </div>
    </div>

    <div id="test-area" class="hidden animate-in">
        <div class="flex justify-between items-end mb-8">
            <div>
                <span id="step-indicator" class="text-[10px] font-black text-blue-500 uppercase tracking-widest italic">Tier 1 of 3</span>
                <h2 id="tier-title" class="text-2xl font-black text-white uppercase italic">Foundational Lexis</h2>
            </div>
            <div class="text-right">
                <span id="word-counter" class="text-xs font-bold text-neutral-500 italic">Words Selected: 0</span>
            </div>
        </div>

        <div id="word-grid" class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-12">
            </div>

        <button id="next-btn" onclick="nextTier()" class="w-full bg-white text-black hover:bg-blue-500 hover:text-white font-black py-4 rounded-2xl uppercase italic transition-all">Next Tier</button>
    </div>

    <div id="result-area" class="hidden animate-in">
        <div class="card-bg p-10 rounded-[2.5rem] border-l-8 border-l-blue-600 mb-6 text-center md:text-left">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <p class="text-[10px] font-black text-neutral-500 uppercase tracking-widest mb-1">Estimated Vocabulary</p>
                    <div id="total-words" class="text-7xl font-black text-white italic tracking-tighter">--</div>
                    <span class="text-blue-500 font-bold uppercase text-[10px] italic tracking-widest">Active English Headwords</span>
                </div>
                <div class="bg-white/5 p-6 rounded-3xl border border-white/5">
                    <p class="text-[10px] font-black text-neutral-500 uppercase tracking-widest mb-1">Equivalent Level</p>
                    <div id="cefr-level" class="text-5xl font-black text-blue-500 italic">--</div>
                    <p id="cefr-desc" class="text-[11px] text-neutral-400 mt-2 italic leading-relaxed">--</p>
                </div>
            </div>
        </div>
        
        <p class="text-center text-[10px] text-neutral-600 italic mb-12 uppercase tracking-tighter">
            Estimates are approximate and intended for educational self-assessment only.
        </p>

        <div class="grid md:grid-cols-2 gap-6 pt-12 border-t border-white/5">
            <a href="wpm-lab.html" class="nav-card p-6 rounded-3xl flex items-center justify-between group">
                <div>
                    <h4 class="text-white font-bold text-lg group-hover:text-blue-500 transition-colors tracking-tight italic uppercase">WPM Fluency Lab</h4>
                    <p class="text-neutral-500 text-xs italic">Test your reading speed with this vocabulary.</p>
                </div>
                <div class="text-blue-500 text-2xl group-hover:translate-x-2 transition-transform">→</div>
            </a>
            <a href="score-matrix.html" class="nav-card p-6 rounded-3xl flex items-center justify-between group">
                <div>
                    <h4 class="text-white font-bold text-lg group-hover:text-blue-500 transition-colors tracking-tight italic uppercase">Exam Matrix</h4>
                    <p class="text-neutral-500 text-xs italic">Map results to IELTS, TOEFL, & CEFR.</p>
                </div>
                <div class="text-blue-500 text-2xl group-hover:translate-x-2 transition-transform">→</div>
            </a>
        </div>
    </div>
</main>

<footer class="mt-24 border-t border-white/5 py-12">
    <div class="max-w-6xl mx-auto px-6 text-center md:text-left">
        <div class="grid md:grid-cols-2 gap-12">
            <div>
                <p class="text-[10px] font-black text-neutral-600 uppercase tracking-widest mb-4 italic">Lexical Diagnostic / v2.1</p>
                <p class="text-neutral-500 text-[11px] italic leading-relaxed mb-4">
                    Diagnostic algorithms are based on word frequency distributions. Knowledge of specific headwords serves as a proxy for total lexical breadth.
                </p>
                <p class="text-neutral-600 text-[10px] italic">
                    This site uses cookies and may display advertising provided by Google AdSense. 
                    Contact: <a href="mailto:thedirectorlabs@gmail.com" class="text-blue-500 hover:underline">thedirectorlabs@gmail.com</a>
                </p>
            </div>
            <div class="flex flex-col md:items-end justify-center gap-4">
                <div class="flex gap-6">
                    <a href="privacy.html" class="text-[9px] text-neutral-500 hover:text-white font-bold uppercase tracking-widest">Privacy</a>
                    <a href="terms.html" class="text-[9px] text-neutral-500 hover:text-white font-bold uppercase tracking-widest">Terms</a>
                    <a href="about.html" class="text-[9px] text-neutral-500 hover:text-white font-bold uppercase tracking-widest">Research</a>
                </div>
                <span class="text-[9px] text-neutral-800 font-bold uppercase tracking-widest italic">© 2026 Academic ESL Hub</span>
            </div>
        </div>
    </div>
</footer>

<script>
    const tiers = [
        {
            title: "Tier 1: Foundational",
            words: ["Table", "Quick", "Building", "Understand", "Travel", "Between", "Simple", "Market", "Health", "Standard", "Problem", "Always", "Example", "Service", "Reason", "Country"],
            multiplier: 150
        },
        {
            title: "Tier 2: Academic",
            words: ["Abstract", "Empirical", "Sustainable", "Mitigate", "Paradigm", "Equating", "Internalize", "Synthesize", "Protocol", "Bias", "Contextual", "Framework", "Inference", "Validity", "Variable", "Correlation"],
            multiplier: 350
        },
        {
            title: "Tier 3: Advanced/Rare",
            words: ["Obsequious", "Ephemeral", "Pernicious", "Alacrity", "Laconic", "Enervate", "Fastidious", "Capricious", "Gregarious", "Inchoate", "Malleable", "Pragmatic", "Reticent", "Soporific", "Loquacious", "Vacillate"],
            multiplier: 600
        }
    ];

    let currentTier = 0;
    let selectedWords = new Set();

    function startVocabTest() {
        document.getElementById('intro-area').classList.add('hidden');
        document.getElementById('test-area').classList.remove('hidden');
        renderTier();
    }

    function renderTier() {
        const grid = document.getElementById('word-grid');
        const tier = tiers[currentTier];
        document.getElementById('tier-title').innerText = tier.title;
        document.getElementById('step-indicator').innerText = `Tier ${currentTier + 1} of 3`;
        
        grid.innerHTML = tier.words.map(word => `
            <button onclick="toggleWord(this, '${word}')" class="word-chip p-4 rounded-xl text-sm font-medium italic text-neutral-400 bg-white/5 hover:border-blue-500">
                ${word}
            </button>
        `).join('');
        
        document.getElementById('next-btn').innerText = currentTier === 2 ? "Finish Diagnostic" : "Next Tier";
    }

    function toggleWord(btn, word) {
        if (selectedWords.has(word)) {
            selectedWords.delete(word);
            btn.classList.remove('selected');
        } else {
            selectedWords.add(word);
            btn.classList.add('selected');
        }
        document.getElementById('word-counter').innerText = `Words Selected: ${selectedWords.size}`;
    }

    function nextTier() {
        if (currentTier < 2) {
            currentTier++;
            renderTier();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
            showResults();
        }
    }

    function showResults() {
        document.getElementById('test-area').classList.add('hidden');
        document.getElementById('result-area').classList.remove('hidden');

        let estimatedVocab = 500; 
        tiers.forEach((tier) => {
            const wordsInTier = tier.words.filter(w => selectedWords.has(w)).length;
            estimatedVocab += (wordsInTier * tier.multiplier);
        });

        if (estimatedVocab > 12000) estimatedVocab = 12000 + (estimatedVocab - 12000) * 0.2;
        
        const finalCount = Math.round(estimatedVocab);
        document.getElementById('total-words').innerText = finalCount.toLocaleString();

        let level = "A2";
        let desc = "Foundational vocabulary. Useful for basic social interactions, but likely insufficient for university-level lecture comprehension.";
        
        if (finalCount > 2500) { level = "B1"; desc = "Intermediate range. You can discuss familiar topics but may struggle with dense academic literature."; }
        if (finalCount > 4500) { level = "B2"; desc = "Upper-Intermediate. The standard for undergraduate entry. You can handle most English-medium coursework."; }
        if (finalCount > 7500) { level = "C1"; desc = "Advanced academic range. Broad enough for complex research and high-level postgraduate studies."; }
        if (finalCount > 10000) { level = "C2"; desc = "Mastery. Near-native lexical range. Capable of interpreting extreme nuance in any academic field."; }

        document.getElementById('cefr-level').innerText = level;
        document.getElementById('cefr-desc').innerText = desc;
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>
</body>
</html>
